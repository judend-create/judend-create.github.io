<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy New Year</title>

<style>
html, body {
  margin: 0;
  height: 100%;
  background: radial-gradient(circle at top, #1b0036, #090014);
  overflow: hidden;
  font-family: 'Poppins', sans-serif;
}

/* ğŸŒŸ STARS */
.star {
  position: absolute;
  background: white;
  border-radius: 50%;
  opacity: .8;
  animation: twinkle linear infinite;
}
@keyframes twinkle {
  0% { opacity: .3; }
  50% { opacity: 1; }
  100% { opacity: .3; }
}

/* ğŸ† FIREWORK */
.firework {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  animation: explode 1.5s ease-out infinite;
}
@keyframes explode {
  0% { transform: scale(0); opacity: 1; }
  100% { transform: scale(15); opacity: 0; }
}

/* ğŸƒ CARD */
.card-container {
  perspective: 1200px;
  width: 320px;
  height: 420px;
  margin: auto;
  position: relative;
  top: 50%;
  transform: translateY(-50%);
  z-index: 10;
}

.card {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 1.2s ease;
}

.card.open {
  transform: rotateY(180deg);
}

.card-face {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 24px;
  box-shadow: 0 25px 60px rgba(0,0,0,.4);
}

/* FRONT */
.card-front {
  background: linear-gradient(135deg, #6b4eff, #b983ff);
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.2rem;
}

/* BACK */
.card-back {
  background: white;
  transform: rotateY(180deg);
  padding: 2rem 1.5rem;
  text-align: center;
  color: #2c1a47;
}

#text {
  font-size: 1rem;
  line-height: 1.7;
  white-space: pre-line;
  margin-top: .5rem;
}

/* ğŸµ BUTTON */
.music-btn {
  margin-top: 1rem;
  padding: .6rem 1.4rem;
  border-radius: 20px;
  border: none;
  background: #6b4eff;
  color: white;
  display: none;
}
</style>
</head>

<body>

<div class="card-container" onclick="openCard()">
  <div class="card" id="card">
    <div class="card-face card-front">
      Tap to open ğŸ†
    </div>
    <div class="card-face card-back">
      <h2>âœ¨ Happy New Year âœ¨</h2>
      <div id="text"></div>
      <button class="music-btn" id="musicBtn" onclick="toggleMusic(event)">
        ğŸµ Play Song
      </button>
    </div>
  </div>
</div>

<!-- ğŸµ MUSIC -->
<audio id="music" loop>
  <source src="https://drive.google.com/uc?export=download&id=1mbyFg7iqgkaUyft0ox5xJ4gdDL3rAlJ3" type="audio/mpeg">
</audio>

<script>
// ğŸŒŸ STARS
for (let i = 0; i < 80; i++) {
  const s = document.createElement("div");
  s.className = "star";
  s.style.width = s.style.height = Math.random() * 2 + "px";
  s.style.left = Math.random() * 100 + "vw";
  s.style.top = Math.random() * 100 + "vh";
  s.style.animationDuration = Math.random() * 3 + 2 + "s";
  document.body.appendChild(s);
}

// ğŸ† FIREWORKS
setInterval(() => {
  const f = document.createElement("div");
  f.className = "firework";
  f.style.background = `hsl(${Math.random()*360},100%,70%)`;
  f.style.left = Math.random() * 100 + "vw";
  f.style.top = Math.random() * 50 + "vh";
  document.body.appendChild(f);
  setTimeout(() => f.remove(), 1500);
}, 800);

// ğŸƒ OPEN CARD + TYPE
let opened = false;
const message = `Happy New Year!

Iâ€™m truly grateful to God for letting me meet you this year. Getting to know you has been such a pleasant surprise, youâ€™re fun, easy-going, and genuinely enjoyable to be around. 

In 2026, I hope youâ€™re blessed with good health, a long life, and overflowing happiness. May all your days ahead be gentle and kind. Once again, happy new year. May today and all the days after be your best ones

Sincerely, Jude.`;

let i = 0;

function openCard() {
  if (opened) return;
  opened = true;
  document.getElementById("card").classList.add("open");
  setTimeout(typeText, 800);
}

function typeText() {
  if (i < message.length) {
    document.getElementById("text").innerHTML += message.charAt(i);
    i++;
    setTimeout(typeText, 30);
  } else {
    document.getElementById("musicBtn").style.display = "inline-block";
  }
}

// ğŸµ MUSIC
const music = document.getElementById("music");
let playing = false;
function toggleMusic(e) {
  e.stopPropagation();
  if (!playing) {
    music.play();
    playing = true;
  } else {
    music.pause();
    playing = false;
  }
}
</script>

</body>
</html>
